<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8" />
        <title></title>
        <script src="../jframe.js"></script>
        <script>
        var $q = function(q) {
            return document.querySelector(q);
        };

        window.onload = function() {
            jframe("#jframe");

            $q("#ta").onkeydown = function(e) {
                if (e.ctrlKey == true || e.metaKey == true) {
                    if (e.keyCode == 83) {
                        run();
                        return false;
                    }
                }
            };

            run();
        };

        var run = function() {
            var ta = $q("#ta");
            var code = ta.value;

            jframe("#jframe").load(code);
        };
        </script>
    </head>
    <body>
        <div>
            <textarea id="ta" rows=16 cols=41>
<h1>test of jframe</h1>
<script>
console.log("hoge");
</script>
</textarea>
        </div>
        <div id="jframe"></div>
    </body>
</html>